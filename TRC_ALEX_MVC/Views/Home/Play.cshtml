@model BoardVM
@{
    ViewBag.Title = "Play";
    Layout = null;
}

<div id="board" class="text-center">
    <div class="">
        @for (int i = (int)Model.Height; i > 0; i--)
        {
        <div class="">
            <span class="badge badge-warning">@(i-1)</span>
            @for (ulong j = 0; j < Model.Width; j++)
            {
                if (Model.Validating && Model.ValidatePos.Item1 == j && (int)Model.ValidatePos.Item2 == (i - 1))
                {
                    if (Model.RobotPos.Item1 == Model.ValidatePos.Item1 && (int)Model.RobotPos.Item2 == (int)Model.ValidatePos.Item2
                        && Model.RobotDir == Model.ValidateDir)
                    {
                        <img src="~/Content/img/t_valid.png" width="100" class="board" />
                    }
                    else
                    {
                        <img src="~/Content/img/t_invalid.png" width="100" class="board" />
                    }
                }
                else
                {
                    <img src="~/Content/img/t.png" width="100" class="board" />
                }
                if (Model.HasAPosition && Model.RobotPos.Item1 == j && (int)Model.RobotPos.Item2 == (i - 1))
                {
                    <img src="~/Content/img/r_@(Model.RobotDir).png" width="100" class="player" />
                }
            }
        </div>
        }
        <div class="badges-x">
            @for (int i = 0; i < (int)Model.Width; i++)
            {
                <span class="badge badge-warning badge-x">@i</span>
            }
        </div>
    </div>
</div>

